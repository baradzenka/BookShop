(()=>{var e={583:(e,t,o)=>{const r=o(328);e.exports=function(e){if("string"!=typeof e)return;const t=e.toUpperCase();return Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0},e.exports.currencySymbolMap=r},328:e=>{e.exports={AED:"د.إ",AFN:"؋",ALL:"L",AMD:"֏",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BOV:"BOV",BRL:"R$",BSD:"$",BTC:"₿",BTN:"Nu.",BWP:"P",BYN:"Br",BYR:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHE:"CHE",CHF:"CHF",CHW:"CHW",CLF:"CLF",CLP:"$",CNH:"¥",CNY:"¥",COP:"$",COU:"COU",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JOD:"JD",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KWD:"KD",KYD:"$",KZT:"₸",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MXV:"MXV",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"S$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",STN:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYI:"UYI",UYU:"$U",UYW:"UYW",UZS:"лв",VEF:"Bs",VES:"Bs.S",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",XSU:"Sucre",XUA:"XUA",YER:"﷼",ZAR:"R",ZMW:"ZK",ZWD:"Z$",ZWL:"$"}},238:(e,t,o)=>{"use strict";o.r(t)},781:(e,t,o)=>{"use strict";o.r(t)},451:(e,t,o)=>{"use strict";o.r(t)},115:(e,t,o)=>{"use strict";o.r(t)},331:(e,t,o)=>{"use strict";o.r(t)},199:(e,t,o)=>{"use strict";o.r(t)},909:(e,t)=>{"use strict";function o(e,t){const o=e.querySelector(t);return s(o),o}function r(e,t){const o=e.querySelectorAll(t);return s(o.length),o}function n(e){return document.createElement(e)}function i(e,t,...o){const r=e.appendChild(n(t));return s(r),o&&r.classList.add(...o),r}function s(e,t){if(!e)throw new Error(t||"Assertion failed")}Object.defineProperty(t,"__esModule",{value:!0}),t.Clamp=t.assert=t.AppendButtonElement=t.AppendImageElement=t.AppendAnchorElement=t.AppendDivElement=t.AppendElement=t.CreateElement=t.ManageAttribute=t.RemoveAttributes=t.AddAttributes=t.QuerySelectors=t.QuerySubSelectors=t.QuerySelectorsUnsafe=t.QuerySelector=t.QuerySubSelector=t.QuerySelectorUnsafe=void 0,t.QuerySelectorUnsafe=function(e){return document.querySelector(e)},t.QuerySubSelector=o,t.QuerySelector=function(e){return o(document,e)},t.QuerySelectorsUnsafe=function(e){return document.querySelectorAll(e)},t.QuerySubSelectors=r,t.QuerySelectors=function(e){return r(document,e)},t.AddAttributes=function(e,t){Object.entries(t).forEach((t=>e.setAttribute(t[0],t[1])))},t.RemoveAttributes=function(e,...t){t.forEach((t=>e.removeAttribute(t)))},t.ManageAttribute=function(e,t,o,r=""){t?e.setAttribute(o,r):e.removeAttribute(o)},t.CreateElement=n,t.AppendElement=i,t.AppendDivElement=function(e,...t){return i(e,"div",...t)},t.AppendAnchorElement=function(e,...t){return i(e,"a",...t)},t.AppendImageElement=function(e,...t){return i(e,"img",...t)},t.AppendButtonElement=function(e,...t){return i(e,"button",...t)},t.assert=s,t.Clamp=function(e,t,o){return Math.min(Math.max(e,t),o)}},291:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBookGalleryChunk=t.InitBookGallery=void 0,o(781);const n=r(o(583)),i=o(909),s=o(469),a=o(323),l=o(225),c=o(897);let d,u,m;const g=new a.PreloadImages;function b(e){const t=e.target instanceof HTMLButtonElement?e.target:null;if(t&&t.classList.contains("book-desc__btn")&&t.dataset.bookId){const e=(0,i.QuerySelectorsUnsafe)(`.book-desc__btn[data-book-id="${t.dataset.bookId}"]`);(0,s.IsBookInCart)(t.dataset.bookId)?(e.forEach((e=>e.removeAttribute("chosen"))),(0,s.DeleteBookFromCart)(t.dataset.bookId)):(e.forEach((e=>e.setAttribute("chosen",""))),(0,s.AddBookToCart)(t.dataset.bookId)),e.forEach((e=>e.textContent=k(t.dataset.bookId))),m()}}function f(){(0,i.QuerySelectorUnsafe)(".book-gallery .load-more-indicator:not([hidden])")||v()}function y(e){const t=(0,i.QuerySelector)(".book-gallery .load-more-indicator");(0,i.ManageAttribute)(t,!e,"hidden")}function _(e,t){const o=(0,i.QuerySelector)(".book-gallery .banner-error");(0,i.ManageAttribute)(o,!e,"hidden"),e&&((0,i.assert)(t),o.textContent=t)}function p(){(0,i.QuerySelectors)(".book-categories__loading").forEach((e=>e.setAttribute("hidden","")))}function v(e=!1){_(!1),y(!0);const t=(0,i.QuerySelector)(".book-gallery .book-categories__item[active]").textContent,o=(0,i.QuerySelector)(".book-gallery .book-list"),r=o.children.length;fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${t}"&key=${d}&printType=books&startIndex=${r}&maxResults=${u}&langRestrict=en`).then((e=>{if(!e.ok){if(423==e.status)throw Error("Data loading error. The destination resource is locked.");if(429==e.status)throw Error("Data loading error. Too many requests.");throw Error(`Data loading error. The response status is ${e.status}.`)}return e.json()})).then((t=>{if("object"!=typeof t||!t.items||!Array.isArray(t.items)||0==t.items.length)throw Error("Data loading error");const r=[],i=function(e,t){let o="";return e.forEach((e=>{Object.prototype.hasOwnProperty.call(e,"id")&&Object.prototype.hasOwnProperty.call(e,"volumeInfo")&&Object.prototype.hasOwnProperty.call(e,"saleInfo")&&(o+=function(e,t){const o=!!e.volumeInfo.imageLinks&&!!e.volumeInfo.imageLinks.thumbnail,r=o?"book-img":"book-img book-img_no-thumbnail",i=o?e.volumeInfo.imageLinks.thumbnail:"./images/book_gallery/no_thumbnail.svg";o&&t.push(e.volumeInfo.imageLinks.thumbnail);return`<div class="book"><img class="${r}" src="${i}" alt="The description of the book"><div class="book-desc">`+function(e){if(!e.volumeInfo.authors||!Array.isArray(e.volumeInfo.authors)||0==e.volumeInfo.authors.length)return"";const t=e.volumeInfo.authors.join(", ");return`<div class="book-desc__authors">${t}</div>`}(e)+function(e){if(!e.volumeInfo.title||"string"!=typeof e.volumeInfo.title)return"";return`<div class="book-desc__title">${e.volumeInfo.title}</div>`}(e)+function(e){if(!e.volumeInfo.averageRating||!e.volumeInfo.ratingsCount)return"";const t=parseFloat(e.volumeInfo.averageRating),o=(0,c.MakeRatingCtrl)(t,12,11,1,"#eeedf5","#f2c94c"),r=function(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}(e.volumeInfo.ratingsCount);return`<div class="book-desc__rating">${o}<span>${r} review</span></div>`}(e)+function(e){if(!e.volumeInfo.description||"string"!=typeof e.volumeInfo.description)return"";const t=e.volumeInfo.description.substr(0,150);return`<div class="book-desc__description">${t}</div>`}(e)+function(e){if(!h(e))return"";const t=(0,n.default)(e.saleInfo.retailPrice.currencyCode)||e.saleInfo.retailPrice.currencyCode,o=t+e.saleInfo.retailPrice.amount;return`<div class="book-desc__price">${o}</div>`}(e)+function(e){const t=h(e)?"":"disabled",o=h(e)&&(0,s.IsBookInCart)(e.id)?"chosen":"",r=k(e.id);return`<button type="button" class="button book-desc__btn" data-book-id="${e.id}" ${t}${o}>${r}</button>`}(e)+"</div></div>"}(e,t))})),o}(t.items,r);g.Start(r,(()=>{p(),y(!1),o.innerHTML=e?i:o.innerHTML+i}))})).catch((t=>{e&&((0,i.QuerySelector)(".book-gallery .book-list").innerHTML=""),p(),y(!1),_(!0,t.message)}))}function h(e){return e.saleInfo.retailPrice&&"object"==typeof e.saleInfo.retailPrice&&e.saleInfo.retailPrice.amount&&"number"==typeof e.saleInfo.retailPrice.amount&&e.saleInfo.retailPrice.currencyCode&&"string"==typeof e.saleInfo.retailPrice.currencyCode}function k(e){return(0,s.IsBookInCart)(e)?"in the cart":"buy now"}t.InitBookGallery=function(e,t,o,r,n){(0,i.assert)(o>=0&&o<e.length),d=t,u=r,m=n,function(e,t){const o=(0,i.QuerySelector)(".book-gallery .book-categories");e.forEach(((e,r)=>{const n=r==t,s=(0,i.AppendAnchorElement)(o,"book-categories__item");n&&s.setAttribute("active","");const a=(0,l.MakeLoadingIndicatorBodyB)("#756ad3");s.innerHTML=e+`<span class="book-categories__loading loading-indicator-b" ${n?"":"hidden"}>`+`${a}</span>`,s.onclick=e=>(function(e){const t=(0,i.QuerySelector)(".book-gallery .book-categories");Array.from(t.children).forEach((t=>{(0,i.ManageAttribute)(t,t.textContent==e,"active");const o=(0,i.QuerySubSelector)(t,".book-categories__loading");(0,i.ManageAttribute)(o,t.textContent!=e,"hidden")}))}(e.target.textContent),g.Abort(),void v(!0))}))}(e,o),(0,i.QuerySelector)(".book-gallery .load-more-indicator").innerHTML+=(0,l.MakeLoadingIndicatorBodyA)("#4c3db2"),(0,i.QuerySelector)(".book-gallery .book-list").addEventListener("click",b),(0,i.QuerySelector)(".book-gallery .book-ctrl__load-more-btn").addEventListener("click",f)},t.LoadBookGalleryChunk=v},857:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateBookCounter=t.InitHeader=void 0,o(451);const r=o(909),n=o(469);function i(){const e=(0,n.GetBookNumberInCart)(),t=(0,r.QuerySelector)(".menu-action-item__counter");0==e?t.setAttribute("hidden",""):(t.textContent=e.toString(),t.removeAttribute("hidden"))}t.InitHeader=function(){i()},t.UpdateBookCounter=i},225:(e,t,o)=>{"use strict";function r(e){return`<div class="b1" style="background: ${e};"></div><div class="b2" style="background: ${e};"></div><div class="b3" style="background: ${e};"></div><div class="b4" style="background: ${e};"></div><div class="b5" style="background: ${e};"></div><div class="b6" style="background: ${e};"></div><div class="b7" style="background: ${e};"></div><div class="b8" style="background: ${e};"></div>`}function n(e){return`<div class="b1" style="background: ${e};"></div><div class="b2" style="background: ${e};"></div><div class="b3" style="background: ${e};"></div><div class="b4" style="background: ${e};"></div><div class="b5" style="background: ${e};"></div>`}Object.defineProperty(t,"__esModule",{value:!0}),t.MakeLoadingIndicatorBodyB=t.MakeLoadingIndicatorB=t.MakeLoadingIndicatorBodyA=t.MakeLoadingIndicatorA=void 0,o(115),t.MakeLoadingIndicatorA=function(e,t=""){return`<div class="loading-indicator-a ${t}">${r(e)}</div>`},t.MakeLoadingIndicatorBodyA=r,t.MakeLoadingIndicatorB=function(e,t=""){return`<div class="loading-indicator-b ${t}">${n(e)}</div>`},t.MakeLoadingIndicatorBodyB=n},469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteBookFromCart=t.AddBookToCart=t.GetBookNumberInCart=t.IsBookInCart=void 0;const o="BookShop.a5e3b9.BooksInCart";function r(){var e;const t=localStorage.getItem(o);return t&&null!==(e=JSON.parse(t).books)&&void 0!==e?e:null}function n(e){const t=JSON.stringify({books:e});localStorage.setItem(o,t)}t.IsBookInCart=function(e){const t=r();return null!=t&&t.includes(e)},t.GetBookNumberInCart=function(){const e=r();return null!=e?e.length:0},t.AddBookToCart=function(e){const t=r();t?t.includes(e)||(t.push(e),n(t)):n([e])},t.DeleteBookFromCart=function(e){let t=r();t&&t.includes(e)&&(t=t.filter((t=>t!==e)),n(t))}},323:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreloadImages=void 0;const r=o(909);t.PreloadImages=class{constructor(){this.numLoadingImgs=0,this.parentElement=(0,r.AppendDivElement)(document.body),this.parentElement.style.position="fixed",this.parentElement.style.left="9999px",this.parentElement.style.opacity="0"}Start(e,t){this.parentElement.innerHTML="",e.forEach((e=>{const o=(0,r.AppendImageElement)(this.parentElement);o.src=e,o.onload=o.onerror=()=>{0==--this.numLoadingImgs&&t()},++this.numLoadingImgs}))}Abort(){0!=this.numLoadingImgs&&(this.parentElement.innerHTML="",this.numLoadingImgs=0)}}},897:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MakeRatingCtrl=void 0,o(331),t.MakeRatingCtrl=function(e,t,o,r,n,i,s=""){const a=t+r;return`<div class="rating-ctrl-9d2fb4 ${s}" style="width: ${5*t+4*r}px; height: ${o}px; -webkit-mask-size: ${a}px 100%; mask-size: ${a}px 100%; background-color: ${n};"><p style="width: ${Math.round(e*t+Math.floor(e)*r)}px; background-color: ${i};"></p></div>`}},945:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitSlider=void 0,o(199);const r=o(909),n=o(323),i=o(225);let s;t.InitSlider=function(e,t=0,o){(0,r.assert)(e.length>0),(0,r.assert)(t>=0&&t<e.length),(0,r.assert)(o>0),s=e,function(e,t){(function(e,t){const o=(0,r.QuerySelector)(".slider .slider__screen");(0,r.AppendImageElement)(o,"slider__img","slider__img-location_left").setAttribute("hidden","");const n=(0,r.AppendImageElement)(o,"slider__img");n.src=e[t].imgPath,n.alt=e[t].desc;(0,r.AppendImageElement)(o,"slider__img","slider__img-location_right").setAttribute("hidden","")})(e,t),(0,r.QuerySelector)(".slider .slider__preload-slides").innerHTML+=(0,i.MakeLoadingIndicatorBodyB)("#4c3db2"),function(e,t){const o=(0,r.QuerySelector)(".slider .slider__ctrl");e.forEach(((e,n)=>{const i=(0,r.AppendDivElement)(o,"slider__ctrl-item");n==t&&i.setAttribute("active",""),i.dataset.index=n.toString(),i.onclick=e=>{var t;(t=parseInt(e.target.dataset.index))==g()||l||(m(t),u())}}))}(e,t)}(e,t),a.interval=o;const b=e.map((e=>e.imgPath));(new n.PreloadImages).Start(b,c),document.body.onresize=d,d()};const a={interval:void 0,intervalID:void 0};let l=!1;function c(){(0,r.QuerySelector)(".slider .slider__screen").removeAttribute("hidden"),(0,r.QuerySelector)(".slider .slider__ctrl").removeAttribute("hidden"),u(),(0,r.QuerySelector)(".slider .slider__preload-slides").setAttribute("hidden","")}function d(){const e=(0,r.QuerySelector)(".slider .slider__banners"),t=parseInt(window.getComputedStyle(e).maxWidth),o=(0,r.Clamp)(document.body.clientWidth-t-80,0,100)/100;e.style.opacity=o.toString()}function u(){a.intervalID&&clearInterval(a.intervalID),a.intervalID=window.setInterval((()=>{let e=g();e=++e<s.length?e:0,m(e)}),a.interval)}function m(e){if(!l){const t=g();if(e!=t){e>t&&function(e){const t=(0,r.QuerySelector)(".slider .slider__img-location_left"),o=(0,r.QuerySelector)(".slider .slider__img:not(.slider__img-location_left, .slider__img-location_right)"),n=(0,r.QuerySelector)(".slider .slider__img-location_right");t.className="slider__img  slider__img-location_right",t.setAttribute("hidden",""),t.removeAttribute("src"),o.className="slider__img  slider__img-location_left",(0,r.RemoveAttributes)(o,"hidden","alt"),o.ontransitionend=null,n.className="slider__img",n.removeAttribute("hidden"),(0,r.AddAttributes)(n,{src:s[e].imgPath,alt:s[e].desc}),n.ontransitionend=()=>l=!1,l=!0}(e),e<t&&function(e){const t=(0,r.QuerySelector)(".slider .slider__img-location_left"),o=(0,r.QuerySelector)(".slider .slider__img:not(.slider__img-location_left, .slider__img-location_right)"),n=(0,r.QuerySelector)(".slider .slider__img-location_right");t.className="slider__img",t.removeAttribute("hidden"),(0,r.AddAttributes)(t,{src:s[e].imgPath,alt:s[e].desc}),t.ontransitionend=()=>l=!1,l=!0,o.className="slider__img  slider__img-location_right",(0,r.RemoveAttributes)(o,"hidden","alt"),o.ontransitionend=null,n.className="slider__img  slider__img-location_left",n.setAttribute("hidden",""),n.removeAttribute("src")}(e);const o=(0,r.QuerySelectors)(".slider .slider__ctrl-item");o.forEach((e=>e.removeAttribute("active"))),o[e].setAttribute("active","")}}}function g(){const e=(0,r.QuerySelector)(".slider .slider__ctrl-item[active]");return parseInt(e.dataset.index)}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{"use strict";o(238);const e=o(857),t=o(945),r=o(291);(0,e.InitHeader)();(0,t.InitSlider)([{imgPath:"./images/slider/slide_1.jpg",desc:"Description of the slide 1"},{imgPath:"./images/slider/slide_2.jpg",desc:"Description of the slide 2"},{imgPath:"./images/slider/slide_3.jpg",desc:"Description of the slide 3"}],0,5e3);(0,r.InitBookGallery)(["Architecture","Art & Fashion","Biography","Business","Crafts & Hobbies","Drama","Fiction","Food & Drink","Health & Wellbeing","History & Politics","Humor","Poetry","Psychology","Science","Technology","Travel & Maps"],"AIzaSyAHbnThJUXRj4p3BsGqEj6wfew1hIuREhs",0,6,(()=>(0,e.UpdateBookCounter)())),(0,r.LoadBookGalleryChunk)()})()})();